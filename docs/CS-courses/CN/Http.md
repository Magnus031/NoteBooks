# <center>HTTP协议</center>
> 鉴于这一章是 计算机网络中的高频考点，我这里专门列出 HTTP相关的知识进行整理，方便自己复习

## 基础知识
### 什么是 `SSL` / `TLS` 呢？
- `SSL`(Secure Sockets Layer) 安全套接层，是为网络通信提供安全及数据完整性的一种安全协议。它是在应用层和传输层之间的一种协议，用于在客户端和服务器之间建立一个安全的连接。`SSL` 协议的主要功能是保护网络通信的安全性，保证数据在传输过程中不被窃取或篡改。

- `TLS` (Transport Layer Security) 安全传输层协议，是`SSL`的**继任者**，它是一个安全协议，用于在客户端和服务器之间建立一个安全的连接。`TLS` 协议的主要功能是保护网络通信的安全性，保证数据在传输过程中不被窃取或篡改。

`SSL` 已经被弃用了。现在的安全协议都是基于 `TLS` 的。**值得注意的是，现在的浏览器都强制使用`TLS1.2`及以上的版本协议了**


### TLS 的握手过程
> `TLS shakehand` 是建立安全连接的过程，在握手的过程中会有以下的几种额外的操作:
>
> - 协商加密算法
> - 验证身份
> - 交换密钥


- 身份验证 (Authentication) : **服务器**向客户端证明自己的身份的真伪合法性
- 密钥交换 (Key Exchange) : **客户端**和**服务器**之间交换密钥，用于加密和解密数据
- 安全加密 (Secure Encryption) : **客户端**和**服务器**之间的通信是加密的，保证数据的安全性
- 数据完整性 (Data Integrity) : 保证数据在传输的过程中不被篡改



## 面试真题

### Q1 HTTP为什么不安全?

`HTTP(HyperText Transfer Protocol)` 超文本传输协议，它是明文传输的，缺乏了加密和身份验证机制。所以在传输的过程中可能会出现以下的几种情况:

- **窃听** : 因为是明文传输，它的内容都会暴露在网络上，所以有可能被窃听
- **篡改** : 传输过程中，有可能被篡改，比如在传输过程中，有人把你的请求或者响应给篡改了。就比如说强行的往内容中插入病毒广告
- **冒充** : 比如冒充淘宝网站 `https://www.taobao.com` 和 `http://www.taobao.com` 两个网站，这两个网站的内容是一样的，但是一个是假的，一个是真的。这样就会造成用户的信息泄露。

下面举了一个关于 `http` 容易被冒充的例子:

> 假设小明想访问淘宝，然后搜索了`http://www.taobao.com` 这个网址。由于是明文传输的，你发起的网络请求就会被截获，然后被篡改。这样就会造成用户的信息泄露。攻击者进行了 `DNS劫持`,把用户的请求指向了一个假设的淘宝网站，这样就会造成用户的信息泄露。 **这里其实可以比较好理解的为一种重定向(redirect)到了一个假的购物网站**，可以和淘宝很像，所以用户就会被骗。


### Q2 HTTPS 和 HTTP 的区别?

我们这里提一下 `HTTPS`，其实就是在 `HTTP` 协议的基础上加上了 `SSL` 或者 `TLS` 协议，也就是说在 `HTTP` 的基础上加上了加密和身份验证机制。这样就可以解决 `HTTP` 明文传输的问题。  

**第一点**，`HTTPS` 进行了相对应的保护

针对上述讲的三点，我们的`HTTPS`提供了相对应的保护 :

- 信息加密: 交互的信息无法被窃取，因为是进行秘文进行传输的
- 校验机制: 因为我们上面提到了可能会被恶意篡改内容，所以我们需要一个校验机制，来确保内容的完整性
- 身份验证: 通过证书的方式来验证服务器的身份，确保是真实的服务器，而不是冒充的。



**第二点**，二者的默认端口是不一样的 :

- `http` 的默认端口是 `80`
- `https` 的默认端口是 `443`


**第三点**，在传输的过程中，`HTTPS` 不仅仅需要`TCP`的三次握手，还需要`SSL`的握手，才能进入报文的加密阶段, 所以在建立连接的时候，会比`HTTP`慢一些。

**第四点** `HTTPS` 需要向 `CA` 机构申请证书，而且需要一定的费用，所以相对来说，`HTTPS` 的成本会比较高一些。