# <center>访问者模式</center>

## Introduction

首先，设计模式的本质就是 **模块/对象 解耦**。那么访问者模式就是为了解决 **数据结构和数据操作分离** 的问题。

> 访问者模式（Visitor Pattern）​ 是一种行为设计模式，它允许你将 **​算法** 与 **​对象结构** 分离。通过访问者模式，可以在不修改对象结构的情况下，定义新的操作或行为。访问者模式的核心思想是：​将操作逻辑从对象中抽离出来，封装到独立的访问者对象中。

简单的举例:

博物馆导览员：在博物馆中，导览员扮演着访问者的角色。博物馆中的艺术品、展品等可以被看作是元素，而导览员则是具体访问者。导览员可以根据参观者的需求，为他们提供不同的讲解、信息或故事，而不需要改变艺术品本身。

通过上面的例子，我们就可以抽象出访问者模式的核心概念。其实就是 在保证 `element` 不变的情况下，我们进行对应的操作。而执行操作的就是 `visitor`。那么其实我们平时写代码的时候，也是这样的，我们在不改变原有的数据结构的情况下，进行对应的操作。 

### 核心概念:

- `visitor` : 访问者，定义了每个具体元素的操作逻辑
- `Concrete Visitor` : 实现了访问者接口，完成对应的操作
- `Element` : 元素，定义了 `accept` 方法，接受访问者的访问
- `Concrete Element` : 实现了元素接口，完成对应的操作
- `Object Structure` : 对象结构，维护了一个元素的集合，可以被访问者访问


### 优点:
- 开闭原则： 在不改变元素的情况下，可以添加新的操作
- 单一职责原则： 将操作逻辑从元素中抽离出来，符合单一职责原则
- 便于扩展： 可以根据需求，添加新的访问者，完成对应的操作